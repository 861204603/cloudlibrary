"use strict";(self["webpackChunkcloudlibrary"]=self["webpackChunkcloudlibrary"]||[]).push([[995],{5995:function(e,s,r){r.r(s),r.d(s,{default:function(){return p}});var o=r(3396);const a=e=>((0,o.dD)("data-v-20d94864"),e=e(),(0,o.Cn)(),e),l={class:"box"},u=a((()=>(0,o._)("div",{class:"logLogo"},[(0,o._)("h3",null,"Login")],-1))),t=a((()=>(0,o._)("div",{class:"account"}," 账号 ",-1))),d=a((()=>(0,o._)("div",{class:"password"}," 密码 ",-1))),i={class:"loginButton"};function n(e,s,r,a,n,m){const c=(0,o.up)("el-input"),g=(0,o.up)("el-form-item"),p=(0,o.up)("el-form"),h=(0,o.up)("el-button");return(0,o.wg)(),(0,o.iD)("div",l,[u,(0,o.Wm)(p,{ref:"loginFormRef",model:n.user,rules:n.loginFormRules},{default:(0,o.w5)((()=>[t,(0,o.Wm)(g,{prop:"username"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:n.user.userName,"onUpdate:modelValue":s[0]||(s[0]=e=>n.user.userName=e),placeholder:"请输入你的帐号",clearable:""},null,8,["modelValue"])])),_:1}),d,(0,o.Wm)(g,{prop:"password"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:n.user.userPassword,"onUpdate:modelValue":s[1]||(s[1]=e=>n.user.userPassword=e),type:"password",placeholder:"请输入你的密码","show-password":""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),(0,o._)("div",i,[(0,o.Wm)(h,{type:"primary",round:"",onClick:m.handleLogin},{default:(0,o.w5)((()=>[(0,o.Uk)("登录")])),_:1},8,["onClick"]),(0,o.Wm)(h,{type:"info",round:"",onClick:m.resetLoginForm},{default:(0,o.w5)((()=>[(0,o.Uk)("重置")])),_:1},8,["onClick"])])])}r(7658);var m={name:"login",data(){return{user:{userName:"admin",userPassword:"123456"},loginFormRules:{userName:[{require:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:15,message:"长度在3到15个字符",trigger:"blur"}],userPassword:[{require:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在6到15个字符",trigger:"blur"}]}}},methods:{handleLogin(){var e=this;this.$refs.loginFormRef.validate((async s=>{console.log(s),s&&await this.$http({url:"http://localhost:8080/user/login",method:"post",data:{userName:this.user.userName,userPassword:this.user.userPassword}}).then((s=>{"1"===String(s.data.code)?(localStorage.setItem("user",this.user.userName),e.$store.commit("setToken",s.data.token),e.$store.commit("setUser",s.data.user),this.$message.success("登陆成功！"),this.$router.push("/home")):this.$message.error("账号或密码错误")}))}))},resetLoginForm(){this.$refs.loginFormRef.resetFields()}}},c=r(89);const g=(0,c.Z)(m,[["render",n],["__scopeId","data-v-20d94864"]]);var p=g}}]);
//# sourceMappingURL=995.d363140a.js.map