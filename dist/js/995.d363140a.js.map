{"version":3,"file":"js/995.d363140a.js","mappings":"iPAEOA,MAAM,O,UACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,WAAS,EAClBC,EAAAA,EAAAA,GAAc,UAAV,WAAK,K,UAGTA,EAAAA,EAAAA,GAEM,OAFDD,MAAM,WAAU,QAErB,K,UAIAC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,YAAW,QAEtB,K,GAKGA,MAAM,e,gJAlBbE,EAAAA,EAAAA,IAuBM,MAvBNC,EAuBM,CAtBJC,GAGAC,EAAAA,EAAAA,IAaUC,EAAAA,CAbDC,IAAI,eAAgBC,MAAOC,EAAAA,KAAOC,MAAOD,EAAAA,gB,mBAChD,IAEM,CAFNE,GAGAN,EAAAA,EAAAA,IAEeO,EAAAA,CAFDC,KAAK,YAAU,C,kBAC3B,IAAmE,EAAnER,EAAAA,EAAAA,IAAmES,EAAAA,C,WAAhDL,EAAAA,KAAKM,S,qCAALN,EAAAA,KAAKM,SAAQ,GAAEC,YAAY,UAAUC,UAAA,I,gCAE1DC,GAGAb,EAAAA,EAAAA,IAEeO,EAAAA,CAFDC,KAAK,YAAU,C,kBAC3B,IAA2F,EAA3FR,EAAAA,EAAAA,IAA2FS,EAAAA,C,WAAxEL,EAAAA,KAAKU,a,qCAALV,EAAAA,KAAKU,aAAY,GAAEC,KAAK,WAAWJ,YAAY,UAAU,oB,8DAGhFf,EAAAA,EAAAA,GAGM,MAHNoB,EAGM,EAFJhB,EAAAA,EAAAA,IAAmEiB,EAAAA,CAAxDF,KAAK,UAAUG,MAAA,GAAOC,QAAOC,EAAAA,a,mBAAa,IAAE,UAAF,S,qBACrDpB,EAAAA,EAAAA,IAAmEiB,EAAAA,CAAxDF,KAAK,OAAOG,MAAA,GAAOC,QAAOC,EAAAA,gB,mBAAgB,IAAE,UAAF,S,oCAQ3D,GACEC,KAAM,QACNC,OACE,MAAO,CACLC,KAAM,CACJb,SAAU,QACVI,aAAc,UAGhBU,eAAgB,CACdd,SAAU,CACR,CAACe,SAAS,EAAMC,QAAS,UAAWC,QAAS,QAC7C,CAACC,IAAK,EAAGC,IAAK,GAAIH,QAAS,aAAcC,QAAS,SAEpDb,aAAc,CACZ,CAACW,SAAS,EAAMC,QAAS,UAAWC,QAAS,QAC7C,CAACC,IAAK,EAAGC,IAAK,GAAIH,QAAS,aAAcC,QAAS,UAK1D,EACAG,QAAS,CACPC,cACE,IAAIC,EAAKC,KAETA,KAAKC,MAAMC,aAAaC,UAASC,UAC3BC,QAAQC,IAAIC,GACPA,SAICP,KAAKQ,MAAM,CACfC,IAAK,mCACLC,OAAQ,OACRrB,KAAM,CACJ,SAAWW,KAAKV,KAAKb,SACrB,aAAeuB,KAAKV,KAAKT,gBAE1B8B,MAAKC,IACwB,MAA1BC,OAAOD,EAAIvB,KAAKyB,OAClBC,aAAaC,QAAQ,OAAQhB,KAAKV,KAAKb,UAEvCsB,EAAGkB,OAAOC,OAAO,WAAWN,EAAIvB,KAAK8B,OACrCpB,EAAGkB,OAAOC,OAAO,UAAUN,EAAIvB,KAAKC,MACpCU,KAAKoB,SAASC,QAAQ,SACtBrB,KAAKsB,QAAQC,KAAK,UAElBvB,KAAKoB,SAASI,MAAM,UACtB,GACA,GAGV,EACAC,iBACEzB,KAAKC,MAAMC,aAAawB,aAC1B,I,QC/EJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://cloudlibrary/./src/views/login.vue","webpack://cloudlibrary/./src/views/login.vue?6051"],"sourcesContent":["<template>\n\n  <div class=\"box\">\n    <div class=\"logLogo\">\n      <h3>Login</h3>\n    </div>\n    <el-form ref=\"loginFormRef\" :model=\"user\" :rules=\"loginFormRules\">\n      <div class=\"account\">\n        账号\n      </div>\n      <el-form-item prop=\"username\">\n        <el-input v-model=\"user.userName\" placeholder=\"请输入你的帐号\" clearable/>\n      </el-form-item>\n      <div class=\"password\">\n        密码\n      </div>\n      <el-form-item prop=\"password\">\n        <el-input v-model=\"user.userPassword\" type=\"password\" placeholder=\"请输入你的密码\" show-password/>\n      </el-form-item>\n    </el-form>\n    <div class=\"loginButton\">\n      <el-button type=\"primary\" round @click=\"handleLogin\">登录</el-button>\n      <el-button type=\"info\" round @click=\"resetLoginForm\">重置</el-button>\n    </div>\n\n  </div>\n  <!---->\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      user: {\n        userName: \"admin\",\n        userPassword: \"123456\",\n      },\n      //表单验证规则对象\n      loginFormRules: {\n        userName: [\n          {require: true, message: \"请输入登录名称\", trigger: \"blur\"},\n          {min: 3, max: 15, message: \"长度在3到15个字符\", trigger: \"blur\"}\n        ],\n        userPassword: [\n          {require: true, message: \"请输入登录密码\", trigger: \"blur\"},\n          {min: 6, max: 15, message: \"长度在6到15个字符\", trigger: \"blur\"}\n        ],\n      }\n    }\n\n  },\n  methods: {\n    handleLogin() {\n      var vm = this\n      //登录前预验证\n      this.$refs.loginFormRef.validate(async(valid) => {\n            console.log(valid);\n            if (!valid) {\n              return;\n            }\n            //向后台发送请求\n            await this.$http({\n              url: 'http://localhost:8080/user/login',\n              method: 'post',\n              data: {\n                \"userName\":this.user.userName,\n                \"userPassword\":this.user.userPassword\n              }\n            }).then(res => {\n              if (String(res.data.code) === \"1\") {\n                localStorage.setItem(\"user\", this.user.userName)\n                //将token和user保存到localStorage中\n                vm.$store.commit('setToken',res.data.token)\n                vm.$store.commit('setUser',res.data.user)\n                this.$message.success(\"登陆成功！\");\n                this.$router.push(\"/home\");\n              } else {\n                this.$message.error(\"账号或密码错误\");\n              }\n            })\n          },\n      )\n    },\n    resetLoginForm() {\n      this.$refs.loginFormRef.resetFields();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.box {\n  margin-top: 150px;\n  margin-left: 520px;\n  display: flex;\n  flex-direction: column;\n  /*justify-content: center;*/\n  /*align-items: center;*/\n  width: 350px;\n  height: 380px;\n  border-top: 1px solid rgba(255, 255, 255, 0.5);\n  border-left: 1px solid rgba(255, 255, 255, 0.5);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  border-right: 1px solid rgba(255, 255, 255, 0.2);\n  backdrop-filter: blur(10px);\n  padding: 40px;\n}\n\n.logLogo {\n  margin-top: 20px;\n  margin-left: 40%;\n}\n\n.account {\n  margin-top: 40px;\n  margin-bottom: 10px;\n  /*margin-left: 50%;*/\n}\n\n.password {\n  margin-top: 20px;\n  margin-right: 310px;\n  margin-bottom: 10px;\n}\n\n.loginButton {\n  margin-top: 30px;\n  margin-left: 30%;\n}\n\n</style>\n\n","import { render } from \"./login.vue?vue&type=template&id=20d94864&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=20d94864&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/sunfeiyu/WebstormProjects/cloudlibrary/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20d94864\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_form","ref","model","$data","rules","_hoisted_3","_component_el_form_item","prop","_component_el_input","userName","placeholder","clearable","_hoisted_4","userPassword","type","_hoisted_5","_component_el_button","round","onClick","$options","name","data","user","loginFormRules","require","message","trigger","min","max","methods","handleLogin","vm","this","$refs","loginFormRef","validate","async","console","log","valid","$http","url","method","then","res","String","code","localStorage","setItem","$store","commit","token","$message","success","$router","push","error","resetLoginForm","resetFields","__exports__","render"],"sourceRoot":""}